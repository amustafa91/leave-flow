import{a as I}from"./chunk-QLOJGE75.js";import{e as T}from"./chunk-6R7RKMAX.js";import{a as D}from"./chunk-3CDIZWEL.js";import"./chunk-A5WJPGEG.js";import{$ as S,$a as w,Ca as _,Db as k,Fb as R,Ga as C,Ka as p,Ra as g,Ta as h,Ua as v,Va as L,Wa as q,Xa as e,Ya as n,Za as m,_a as E,aa as b,ab as l,ba as c,ca as u,eb as a,fb as d,gb as M,mb as x,na as y,nb as f,ya as o}from"./chunk-DENDG36W.js";var A=(r,i)=>i.id;function N(r,i){if(r&1){let t=E();e(0,"button",19),w("click",function(){S(t);let V=l().$implicit,P=l(2);return b(P.cancelRequest(V.id))}),a(1," Cancel "),n()}}function B(r,i){if(r&1&&(e(0,"tr",12)(1,"td",13)(2,"div",14),m(3,"div",15),e(4,"span",16),a(5),n()()(),e(6,"td",17),a(7),x(8,"date"),n(),e(9,"td",17),a(10),x(11,"date"),n(),e(12,"td",13),a(13),n(),e(14,"td",13)(15,"span"),a(16),n()(),e(17,"td",13),p(18,N,2,0,"button",18),n()()),r&2){let t=i.$implicit,s=l(2);o(3),g("background-color",t.leaveTypeColor),o(2),d(t.leaveTypeName),o(2),d(f(8,10,t.startDate)),o(3),d(f(11,12,t.endDate)),o(3),d(t.totalDays),o(2),h(s.getStatusClass(t.status)),o(),M(" ",s.getStatusLabel(t.status)," "),o(2),v(t.status===s.LeaveStatus.Pending?18:-1)}}function F(r,i){if(r&1&&(e(0,"div",7)(1,"table",9)(2,"thead")(3,"tr",10)(4,"th",11),a(5,"Type"),n(),e(6,"th",11),a(7,"Start Date"),n(),e(8,"th",11),a(9,"End Date"),n(),e(10,"th",11),a(11,"Days"),n(),e(12,"th",11),a(13,"Status"),n(),e(14,"th",11),a(15,"Actions"),n()()(),e(16,"tbody"),L(17,B,19,14,"tr",12,A),n()()()),r&2){let t=l();o(17),q(t.requests())}}function H(r,i){r&1&&(e(0,"div",8),c(),e(1,"svg",20),m(2,"path",21),n(),u(),e(3,"p",22),a(4,"No leave requests yet"),n(),e(5,"a",23),a(6,"Request your first leave"),n()())}var j=class r{constructor(i){this.leaveService=i}requests=y([]);LeaveStatus=I;ngOnInit(){this.loadRequests()}loadRequests(){this.leaveService.getMyRequests().subscribe({next:i=>this.requests.set(i)})}cancelRequest(i){confirm("Are you sure you want to cancel this request?")&&this.leaveService.cancelRequest(i).subscribe({next:()=>this.loadRequests()})}getStatusClass(i){let t="badge ";switch(i){case 0:return t+"badge-pending";case 1:return t+"badge-approved";case 2:return t+"badge-rejected";case 3:return t+"badge-cancelled";default:return t}}getStatusLabel(i){switch(i){case 0:return"Pending";case 1:return"Approved";case 2:return"Rejected";case 3:return"Cancelled";default:return"Unknown"}}static \u0275fac=function(t){return new(t||r)(_(D))};static \u0275cmp=C({type:r,selectors:[["app-my-leaves"]],decls:11,vars:1,consts:[[1,"animate-fadeIn"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-2xl","font-bold","text-[var(--text-primary)]"],["routerLink","/leave-request",1,"btn","btn-primary"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v16m8-8H4"],[1,"card"],[1,"overflow-x-auto"],[1,"text-center","py-12","text-[var(--text-secondary)]"],[1,"w-full"],[1,"text-left","text-[var(--text-secondary)]","text-sm","border-b","border-[var(--border)]"],[1,"pb-3","font-medium"],[1,"border-b","border-[var(--border)]","last:border-0","hover:bg-[var(--background)]","transition-colors"],[1,"py-4"],[1,"flex","items-center","gap-2"],[1,"w-2","h-2","rounded-full"],[1,"font-medium"],[1,"py-4","text-[var(--text-secondary)]"],[1,"text-red-600","hover:text-red-700","text-sm","font-medium"],[1,"text-red-600","hover:text-red-700","text-sm","font-medium",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-16","h-16","mx-auto","mb-4","text-gray-300"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"mb-2"],["routerLink","/leave-request",1,"text-emerald-600","hover:underline"]],template:function(t,s){t&1&&(e(0,"div",0)(1,"div",1)(2,"h1",2),a(3,"My Leave Requests"),n(),e(4,"a",3),c(),e(5,"svg",4),m(6,"path",5),n(),a(7," New Request "),n()(),u(),e(8,"div",6),p(9,F,19,0,"div",7)(10,H,7,0,"div",8),n()()),t&2&&(o(9),v(s.requests().length>0?9:10))},dependencies:[R,k,T],encapsulation:2})};export{j as MyLeavesComponent};
